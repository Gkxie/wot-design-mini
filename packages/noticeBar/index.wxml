<wxs src="../wxs/utils.wxs" module="utils" />

<view 
    class="jm-notice-bar hover-class"
    wx:if="{{ show }}"
    style="color: {{ color }}; background-color: {{ backgroundColor }};"
    bind:tap="onClick">
    
   <jm-icon 
      wx:if="{{ showIcon }}"
      class=" {{ utils.bem('notice-bar',null,['iconLeft'])}} "
      name="warning" size="14px" />
   <view 
      class="{{ utils.bem('notice-bar',null,['textWrapper'])}}"
       style="height:{{ wrapabled ? 'auto' : '24px' }}; margin:{{ wrapabled ? '0 5px' : '0' }}">

      <view 
         class="{{ utils.bem('notice-bar',null,['text'])}} " 
         animation="{{ scrollable ? animation : '' }}" 
         style="left:{{ scrollable ? '100%':'0' }}; position:{{ scrollable ? 'absolute':'relative' }};white-space:{{ wrapabled ? 'wrap' : 'nowrap' }}"
         bindtransitionend="transitionEnd">
         {{ text }}
      </view>

   </view>

   <jm-icon 
      wx:if="{{ closeable || mode == 'info'}}"
      class="{{ utils.bem('notice-bar',null,['iconRight'])}} "
      bind:tap="closeNotice"
      name="close" size="10px" />
     <navigator
      wx:if="{{ mode === 'link' }}"
      class="{{ utils.bem('notice-bar',null,['iconRight'])}} "
      url="{{ url }}">
         <jm-icon name="arrow-right" size="10px" />
  </navigator>
</view>

 